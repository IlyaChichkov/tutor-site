import React, {useEffect, useState} from 'react';
import './Navigation.css'

const getWidth = () => window.innerWidth
    || document.documentElement.clientWidth
    || document.body.clientWidth;

function Navigation() {
    const [isMobile, setMobile] = useState(false);
    const [isMobileMenu, setMobileMenu] = useState(false);

    useEffect(() => {
        const resizeListener = () => {
            if(getWidth() > 575){
                setMobile(false);
            }else{
                setMobile(true);
            }
        };
        window.addEventListener('resize', resizeListener);

        return () => {
            window.removeEventListener('resize', resizeListener);
        }
    }, []);

    useEffect(() => {
        if(!isMobile && isMobileMenu){
            setMobileMenu(false);
        }
    }, [isMobile])

    return (
        <div>
            {/*Mobile Nav*/}
            <div className={'bg-white'}>
                <div className={'flex flex-row justify-between items-center py-4'}>
                    {/*Branding*/}
                    <div className={'flex flex-row items-center ml-6'}>
                        <svg width="52" height="52" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M47.6666 36.27V10.1183C47.6666 7.51834 45.5433 5.59 42.965 5.80667H42.835C38.285 6.19667 31.3733 8.515 27.5166 10.9417L27.1483 11.18C26.52 11.57 25.48 11.57 24.8516 11.18L24.31 10.855C20.4533 8.45 13.5633 6.15334 9.01331 5.785C6.43498 5.56834 4.33331 7.51834 4.33331 10.0967V36.27C4.33331 38.35 6.02331 40.3 8.10331 40.56L8.73165 40.6467C13.4333 41.275 20.6916 43.6583 24.8516 45.9333L24.9383 45.9767C25.5233 46.3017 26.455 46.3017 27.0183 45.9767C31.1783 43.68 38.4583 41.275 43.1816 40.6467L43.8966 40.56C45.9766 40.3 47.6666 38.35 47.6666 36.27Z" stroke="#0D1345" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M26 11.895V44.395" stroke="#0D1345" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M16.7917 18.395H11.9167" stroke="#0D1345" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M18.4167 24.895H11.9167" stroke="#0D1345" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p className={'text-2xl font-bold ml-2 font-rbMono select-none'}>Sophia<br/>Tutor</p>
                    </div>
                    {/*Menu Button*/}
                    <div className={'mr-6 p-2'} onClick={() => {setMobileMenu(!isMobileMenu)}}>
                        <svg className={'content-center'} width="36" height="38" viewBox="0 0 36 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.5 11.0833H31.5" stroke="#070B2D" stroke-width="1.5" stroke-linecap="round"/>
                            <path d="M4.5 19H31.5" stroke="#070B2D" stroke-width="1.5" stroke-linecap="round"/>
                            <path d="M4.5 26.9167H31.5" stroke="#070B2D" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                    </div>
                </div>
                {/*Mobile Menu*/}
                { isMobileMenu?
                    <div>
                        {/*Links*/}
                        <hr/>
                        <div className={'flex flex-col text-center py-4'}>
                            <a className={'mob-menu-i'} href={'#'}>Обо мне</a>
                            <a className={'mob-menu-i'} href={'#'}>Услуги</a>
                            <a className={'mob-menu-i'} href={'#'}>Вопросы</a>
                        </div>
                        <hr/>
                        {/*Socials*/}
                        <div className={'flex flex-col items-center py-4'}>
                            <div className={'flex flex-row justify-between w-[100px]'}>
                                <a href={'#'}>
                                    <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M27 6.1425C26.9848 5.56007 26.9398 4.97881 26.865 4.401C26.7642 3.89492 26.5962 3.40458 26.3655 2.943C26.1242 2.44229 25.8002 1.98589 25.407 1.593C25.0102 1.20448 24.5546 0.880998 24.057 0.6345C23.5948 0.4083 23.1045 0.244854 22.599 0.1485C22.0267 0.0627742 21.4495 0.0131761 20.871 0H6.1425C5.56007 0.0151691 4.97881 0.0602283 4.401 0.135C3.89492 0.235802 3.40458 0.40379 2.943 0.6345C2.44229 0.875795 1.98589 1.19984 1.593 1.593C1.20448 1.98978 0.880998 2.44538 0.6345 2.943C0.4083 3.40519 0.244854 3.89553 0.1485 4.401C0.0627742 4.97331 0.0131761 5.55045 0 6.129C0 6.3855 0 6.75 0 6.858V20.142C0 20.2905 0 20.6145 0 20.8575C0.0151691 21.4399 0.0602283 22.0212 0.135 22.599C0.235802 23.1051 0.40379 23.5954 0.6345 24.057C0.875795 24.5577 1.19984 25.0141 1.593 25.407C1.98978 25.7955 2.44538 26.119 2.943 26.3655C3.40519 26.5917 3.89553 26.7551 4.401 26.8515C4.97331 26.9372 5.55045 26.9868 6.129 27H20.8575C21.4399 26.9848 22.0212 26.9398 22.599 26.865C23.1051 26.7642 23.5954 26.5962 24.057 26.3655C24.5577 26.1242 25.0141 25.8002 25.407 25.407C25.7955 25.0102 26.119 24.5546 26.3655 24.057C26.5917 23.5948 26.7551 23.1045 26.8515 22.599C26.9372 22.0267 26.9868 21.4495 27 20.871C27 20.6145 27 20.2905 27 20.142V6.858C27 6.75 27 6.3855 27 6.1425ZM13.8105 22.95C12.1892 22.942 10.5963 22.524 9.18 21.735L4.05 23.085L5.4 18.063C4.5294 16.6002 4.06348 14.9322 4.05 13.23C4.05538 11.3169 4.62672 9.44827 5.69209 7.8593C6.75745 6.27034 8.26918 5.03217 10.0369 4.30072C11.8046 3.56927 13.7492 3.37726 15.6258 3.74887C17.5024 4.12048 19.2271 5.03909 20.5827 6.38901C21.9382 7.73894 22.864 9.45979 23.2434 11.3349C23.6228 13.2099 23.4389 15.1553 22.7148 16.926C21.9907 18.6968 20.7588 20.2136 19.1743 21.2856C17.5898 22.3576 15.7235 22.9367 13.8105 22.95V22.95ZM13.8105 5.2245C12.3792 5.24088 10.9779 5.63623 9.7491 6.3703C8.52032 7.10436 7.50799 8.15093 6.8152 9.40345C6.12241 10.656 5.77388 12.0697 5.80511 13.5007C5.83635 14.9317 6.24622 16.3289 6.993 17.55L7.182 17.8605L6.372 20.817L9.45 19.98L9.747 20.1555C10.9749 20.8788 12.3719 21.2653 13.797 21.276V21.276C15.9453 21.276 18.0055 20.4226 19.5246 18.9036C21.0436 17.3845 21.897 15.3243 21.897 13.176C21.897 11.0277 21.0436 8.96748 19.5246 7.44844C18.0055 5.92939 15.9453 5.076 13.797 5.076L13.8105 5.2245ZM18.5355 16.7265C18.3587 17.0214 18.1219 17.276 17.8405 17.4736C17.5592 17.6713 17.2394 17.8077 16.902 17.874C16.3978 17.9662 15.8788 17.9337 15.39 17.7795C14.9301 17.6357 14.4793 17.4644 14.04 17.2665C12.3711 16.429 10.9477 15.1732 9.909 13.6215C9.34454 12.9026 9.00205 12.0346 8.9235 11.124C8.91546 10.7457 8.98702 10.37 9.13354 10.0211C9.28006 9.67226 9.49826 9.3581 9.774 9.099C9.85522 9.00691 9.95486 8.9329 10.0665 8.88174C10.1781 8.83058 10.2992 8.80341 10.422 8.802H10.8C10.9485 8.802 11.151 8.802 11.34 9.2205C11.529 9.639 12.0285 10.8945 12.096 11.016C12.1292 11.0808 12.1465 11.1525 12.1465 11.2252C12.1465 11.298 12.1292 11.3697 12.096 11.4345C12.0363 11.5812 11.9544 11.7178 11.853 11.8395C11.7315 11.988 11.5965 12.1635 11.4885 12.2715C11.3805 12.3795 11.2455 12.5145 11.3805 12.7575C11.7478 13.3774 12.2025 13.9412 12.7305 14.4315C13.3055 14.9396 13.9629 15.3459 14.6745 15.633C14.9175 15.7545 15.066 15.741 15.201 15.633C15.336 15.525 15.8085 14.931 15.9705 14.688C16.1325 14.445 16.2945 14.4855 16.5105 14.5665C16.7265 14.6475 17.928 15.228 18.171 15.3495C18.414 15.471 18.5625 15.525 18.63 15.633C18.6885 15.9863 18.656 16.3487 18.5355 16.686V16.7265Z" fill="#5667FA"/>
                                    </svg>
                                </a>
                                <a href={'#'}>
                                    <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M13.5 4.65127e-08C10.83 4.65127e-08 8.21987 0.791761 5.99981 2.27516C3.77974 3.75856 2.04942 5.86697 1.02763 8.33377C0.00584933 10.8006 -0.261496 13.515 0.259405 16.1337C0.780305 18.7525 2.06606 21.1579 3.95406 23.0459C5.84207 24.9339 8.24754 26.2197 10.8663 26.7406C13.485 27.2615 16.1994 26.9942 18.6662 25.9724C21.133 24.9506 23.2414 23.2203 24.7248 21.0002C26.2082 18.7801 27 16.17 27 13.5C27.0001 11.7271 26.6511 9.97156 25.9727 8.3336C25.2943 6.69564 24.2999 5.20735 23.0463 3.95373C21.7927 2.70011 20.3044 1.70571 18.6664 1.02733C17.0284 0.34894 15.2729 -0.000147121 13.5 4.65127e-08V4.65127e-08ZM17.7923 20.4558C17.7418 20.5818 17.6649 20.6956 17.5668 20.7894C17.4688 20.8833 17.3518 20.9551 17.2237 21C17.0956 21.0449 16.9593 21.062 16.8241 21.05C16.6889 21.038 16.5578 20.9972 16.4396 20.9304L12.7748 18.0827L10.4227 20.2527C10.3681 20.293 10.3043 20.319 10.2371 20.3282C10.1698 20.3373 10.1014 20.3295 10.038 20.3053L10.4889 16.2708L10.5033 16.2823L10.5125 16.2026C10.5125 16.2026 17.1073 10.1985 17.3759 9.94269C17.6479 9.68754 17.5582 9.63219 17.5582 9.63219C17.5736 9.32098 17.0701 9.63219 17.0701 9.63219L8.3322 15.2536L4.69329 14.0143C4.69329 14.0143 4.13439 13.8139 4.08174 13.3731C4.02639 12.9357 4.71151 12.6981 4.71151 12.6981L19.1795 6.95046C19.1795 6.95046 20.3688 6.42056 20.3688 7.2981L17.7923 20.4558Z" fill="#5667FA"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>: null
                }
            </div>
            {/*Desktop Nav*/}
            <div>

            </div>
        </div>
    );
}

export default Navigation;